# ==============================================================================
# UniFinEval Environment Configuration Template
# ==============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to version control!

# ==============================================================================
# API Keys Configuration
# ==============================================================================
# API keys for different service providers
# Get your API keys from respective service providers

# Alibaba Cloud DashScope API Key
# Example: api1=sk-1234567890abcdef1234567890abcdef
api1=your_dashscope_api_key_here

# ByteDance Volces API Key
# Example: api2=your_volces_api_key_string
api2=your_volces_api_key_here

# OpenRouter API Key
# Example: api3=sk-or-v1-1234567890abcdef1234567890abcdef
api3=your_openrouter_api_key_here

# SiliconFlow API Key
# Example: api4=sk-1234567890abcdef1234567890abcdef
api4=your_siliconflow_api_key_here

# ==============================================================================
# Model Evaluation Configuration
# ==============================================================================
# Comma-separated list of model names to evaluate
# Model names must match keys in evaluate_py/config.py MODEL_DEFINITIONS
# Example: EVAL_MODELS=qwen-vl-max,GLM-4.6V,doubao-seed-1-6-251015
EVAL_MODELS=qwen-vl-max,GLM-4.6V

# ==============================================================================
# Local Inference Service Configuration
# ==============================================================================
# Configure local inference services (if using local models)
# Format: LOCAL_<PORT>_HOST and LOCAL_<PORT>_PORT
# Default host is 'localhost' if not specified
# Example for remote server: LOCAL_8000_HOST=192.168.1.100

# Local service on port 8000
LOCAL_8000_HOST=localhost
LOCAL_8000_PORT=8000

# Local service on port 22003
LOCAL_22003_HOST=localhost
LOCAL_22003_PORT=22003

# Local service on port 22004
LOCAL_22004_HOST=localhost
LOCAL_22004_PORT=22004

# Local service on port 22005
LOCAL_22005_HOST=localhost
LOCAL_22005_PORT=22005

# Local service on port 22006
LOCAL_22006_HOST=localhost
LOCAL_22006_PORT=22006

# Local service on port 22007
LOCAL_22007_HOST=localhost
LOCAL_22007_PORT=22007

# Local service on port 2434
LOCAL_2434_HOST=localhost
LOCAL_2434_PORT=2434

# Local service on port 2435
LOCAL_2435_HOST=localhost
LOCAL_2435_PORT=2435

# ==============================================================================
# Evaluation Performance Configuration
# ==============================================================================
# Timeout for API requests (seconds)
# Recommended: 600-1200 for large models
EVAL_TIMEOUT=600

# Maximum retry attempts for API calls
# Recommended: 3-5 for production use
EVAL_MAX_RETRIES=3

# Base retry delay (seconds), uses exponential backoff
# Example: First retry after 1s, second after 2s, third after 4s
EVAL_RETRY_SLEEP=1.0

# Judge model retry configuration
EVAL_JUDGE_MAX_RETRIES=3
EVAL_JUDGE_RETRY_DELAY=1.0

# Number of worker threads for parallel evaluation
# Recommended: 5-20 depending on your API rate limits
# Higher values = faster but may hit rate limits
EVAL_WORKERS=10

# Batch size for JSON buffer flushing
# How many results to accumulate before writing to disk
EVAL_BATCH_SIZE=10

# ==============================================================================
# Logging Configuration
# ==============================================================================
# Log mode: 'simple' or 'detailed'
# - simple: Basic logging, faster, less disk usage
# - detailed: Comprehensive logging with full API responses (for debugging)
EVAL_LOG_MODE=detailed

# ==============================================================================
# Data Processing Configuration
# ==============================================================================
# Limit number of items to process (empty = process all)
# Useful for testing: EVAL_LIMIT=10
EVAL_LIMIT=

# Random selection (true/false)
# If true, randomly shuffle and select items (useful for sampling)
EVAL_USE_RANDOM=false

# Random seed (if EVAL_USE_RANDOM=true)
# Use same seed for reproducible results
EVAL_SEED=42

# Output format: 'json' or 'jsonl'
# - json: Single file with all results (easier to read)
# - jsonl: Line-delimited format (better for streaming/large files)
EVAL_OUTPUT_FORMAT=json

# ==============================================================================
# Image Processing Configuration
# ==============================================================================
# Image compression threshold (number of images)
# Images will be compressed if count exceeds this threshold
EVAL_IMAGE_COMPRESS_THRESHOLD=5

# Maximum longest side after compression (pixels)
# Recommended range: 1280-1600
# Higher = better quality but more tokens
EVAL_IMAGE_COMPRESS_MAX_LONGEST_SIDE=1600

# JPEG compression quality (1-100)
# Higher value = better quality but larger file size
# Recommended: 85-95 for good balance
EVAL_IMAGE_COMPRESS_QUALITY=92

# Compress single image in single round (true/false)
# If false, single images are not compressed (preserves quality)
# If true, all images are compressed (saves tokens)
EVAL_COMPRESS_SINGLE_IMAGE_SINGLE_ROUND=false

# ==============================================================================
# Dynamic Resolution Configuration
# ==============================================================================
# Enable dynamic resolution adjustment to control input tokens
EVAL_ENABLE_DYNAMIC_RESOLUTION=true

# Maximum input tokens (default: 25000, leaves room for 32k context)
EVAL_MAX_INPUT_TOKENS=25000

# Minimum resolution (longest side in pixels)
EVAL_MIN_RESOLUTION=512

# Maximum resolution (longest side in pixels, initial value)
EVAL_MAX_RESOLUTION=2048

# ==============================================================================
# Multi-Round Question Configuration
# ==============================================================================
# Count multi-round questions by rounds (true) or as single question (false)
# true: Each round counts as 1 question
# false: Entire multi-round question counts as 1 question
EVAL_MULTI_ROUND_COUNT_BY_ROUNDS=true

# ==============================================================================
# Missing Image Handling
# ==============================================================================
# Skip questions with missing images (false) or continue without images (true)
# false: Skip the entire question if images are missing (default, safer)
# true: Continue evaluation without images (may affect accuracy)
EVAL_SKIP_MISSING_IMAGES=false

# ==============================================================================
# Example Complete Configuration
# ==============================================================================
# Below is an example of a complete working configuration:
#
# api1=sk-1234567890abcdef1234567890abcdef
# api2=your_volces_key
# api3=sk-or-v1-1234567890abcdef
# api4=sk-1234567890abcdef
# EVAL_MODELS=qwen-vl-max,GLM-4.6V,doubao-seed-1-6-251015
# LOCAL_8000_HOST=192.168.1.100
# LOCAL_8000_PORT=8000
# EVAL_TIMEOUT=1200
# EVAL_MAX_RETRIES=3
# EVAL_WORKERS=10
# EVAL_LOG_MODE=detailed
# EVAL_OUTPUT_FORMAT=json
